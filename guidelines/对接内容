1ï¸âƒ£ åå°æ¥å£æ€»è§ˆï¼ˆå¯å¤ç”¨åº¦åŸºäºå‰ç«¯æ˜¾å¼è°ƒç”¨ï¼Œæ–¹æ³•æ¨æ–­ä¸º POST/GETï¼Œæœªåœ¨ä»“åº“å†…è§åˆ° EPS å…ƒæ•°æ®ï¼Œæ ‡æ³¨â€œä¸ç¡®å®šâ€å¤„éœ€ä»¥åç«¯çœŸå® EPS ä¸ºå‡†ï¼‰
é‰´æƒ / ä¼šè¯
POST /dev/admin/base/auth/loginï¼ˆæˆ– /open/login ç­‰ï¼‰ï¼šå‚æ•° { username, password }ï¼›è¿”å› { userInfo, tokenData{token, refreshToken, expire...} }ï¼›å¯å¤ç”¨ï¼šæ˜¯ï¼ˆç™»å½•å³å‘æ”¾ tokenï¼‰ã€‚
POST /dev/admin/base/open/loginByEmailï¼šå‚æ•° { email, code }ï¼ˆåœ¨ login é¡µä½¿ç”¨ï¼‰ï¼›è¿”å›åŒä¸Šï¼›å¯å¤ç”¨ï¼šéœ€è½»å¾®è°ƒæ•´ï¼ˆä¾èµ–é‚®ç®±éªŒè¯ç é€»è¾‘ï¼‰ã€‚
POST /dev/admin/base/open/refreshTokenï¼šå‚æ•° { refreshToken }ï¼›è¿”å› { token, refreshToken }ï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
GET /dev/admin/base/comm/personï¼šæ— å‚ï¼›è¿”å› BaseSysUserEntityï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
POST /dev/admin/base/comm/logoutï¼šæ— æ˜¾å¼å‚æ•°ï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
GET /dev/admin/base/comm/permmenuï¼šè¿”å›æƒé™èœå•ï¼›å¯å¤ç”¨ï¼šè°¨æ…ï¼ˆå¼ºç»‘å®š GuDuu æƒé™ä½“ç³»ï¼‰ã€‚
ç”¨æˆ· / è´¦å·
POST /dev/admin/base/sys/user/listï¼šå‚æ•° { ownerId }ï¼›è¿”å›ç”¨æˆ·åˆ—è¡¨ï¼›å¯å¤ç”¨ï¼šæ˜¯ï¼ˆå›¢é˜Ÿæˆå‘˜ï¼‰ã€‚
POST /dev/admin/base/sys/user/invitedListï¼šæ— å‚ï¼›è¿”å›é‚€è¯·åˆ—è¡¨ï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
POST /dev/admin/base/sys/user/openDetailï¼šå‚æ•° { name }ï¼›è¿”å›å…¬å¼€ä¸»é¡µç”¨æˆ·è¯¦æƒ…ï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
POST /dev/admin/base/sys/user/discordLoginã€isNftStackedã€isExistã€sendResetPasswordCodeã€resetPasswordã€additionalInfoï¼šç¬¬ä¸‰æ–¹ / è¡¥å……ä¿¡æ¯é“¾è·¯ï¼›å¯å¤ç”¨ï¼šå¯é€‰ã€‚
ç«™ç‚¹é…ç½®
GET /dev/admin/base/site/infoï¼ŒPOST /dev/admin/base/site/saveï¼šç«™ç‚¹æ–‡æ¡ˆ/æ”¯ä»˜/ç¬¬ä¸‰æ–¹ç™»å½•é…ç½®ï¼›å¯å¤ç”¨ï¼šéƒ¨åˆ†ï¼ˆMuuZi é€‰æ‹©æœ€å°å¿…è¦å­—æ®µï¼‰ã€‚
ä¸Šä¼ 
GET /dev/admin/base/comm/uploadModeï¼ˆè¿”å›ä¸Šä¼ æ¨¡å¼å’Œ OSS é…ç½®ï¼‰ï¼›POST /dev/admin/base/comm/uploadï¼ˆä¸Šä¼ æ–‡ä»¶ï¼‰ï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
æ¡Œé¢ / å·¥ä½œå°
POST /dev/admin/base/desktop/list å‚æ•° { userId }ï¼›GET /info { id }ï¼›POST /update { id, member[] }ï¼›å¯å¤ç”¨ï¼šæ˜¯ï¼ˆå·¥ä½œå°=æ¡Œé¢ï¼‰ã€‚
ç¾¤ç»„ / æˆå‘˜
POST /dev/admin/base/group/list å‚æ•° { userId | ids[] }ï¼›è¿”å›ç¾¤åˆ—è¡¨ï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
POST /dev/admin/base/group/updateGroupInfoï¼šæ›´æ–°ç¾¤ä¿¡æ¯ï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
POST /dev/admin/base/groupMember/list å‚æ•° { groupId }ï¼›memberList { groupIds[], pageSize, page }ï¼›memberDetail { groupId | memberId }ï¼›teamsã€teamsByUserIdï¼›allMemberList {}ï¼›setTeamMemberRoleï¼›å¯å¤ç”¨ï¼šæ˜¯ï¼ˆæˆå‘˜/Agent ä¿¡æ¯ä¸­å¿ƒï¼‰ã€‚
å¥½å‹ / IM
POST /dev/admin/base/friend/list { userId }ï¼šIM å·¦ä¾§ä¼šè¯åˆ—è¡¨ï¼›å¯å¤ç”¨ï¼šæ˜¯ï¼ˆç¾¤=èŠå¤©ï¼‰ã€‚
POST /dev/admin/base/message/messageList { userId, friendId, type(0ç§èŠ/1ç¾¤èŠ) }ï¼šèŠå¤©è®°å½•ï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
POST /dev/admin/base/message/runWorkflow { ... }ï¼šä»åˆ†äº«é¡µè§¦å‘å·¥ä½œæµï¼›å¯å¤ç”¨ï¼šéœ€ç¡®è®¤ MuuZi æ˜¯å¦ä¿ç•™æ­¤ç©æ³•ã€‚
å¤–é“¾ / åˆ†äº«
POST /dev/admin/base/externalLink/memberInfoByCode { code }ï¼›workflowLogInfo { logId }ï¼›å¯å¤ç”¨ï¼šæ˜¯ï¼ˆåˆ†äº«é¡µï¼‰ã€‚
ä¸ªäººä¸»é¡µç”³è¯·
POST /dev/admin/base/personalPageApplication/submit { ... }ï¼šç”³è¯·ä¸ªäººä¸»é¡µï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
POST /dev/admin/base/shortLink/add { originUrl,... }ï¼šç”ŸæˆçŸ­é“¾ï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
è®¤è¯é…ç½®
POST /dev/admin/base/auth/listï¼šè¿”å›è®¤è¯æ¨¡æ¿/é…ç½®ï¼›å¯å¤ç”¨ï¼šæ˜¯ï¼ˆæˆå‘˜é…ç½®ï¼‰ã€‚
POST /dev/admin/base/app/allï¼šæˆå‘˜é…ç½®åŒ…ï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
POST /dev/admin/base/appConfig/list { appId }ï¼šé…ç½®åŒ…åˆ—è¡¨ï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
å•†å“ / è®¢å•ï¼ˆgoods æœåŠ¡ï¼Œå‘½åç©ºé—´ä¸å¸¦ baseï¼ŒæŒ‰åŒæ ·è§„åˆ™è¯·æ±‚ goods/...ï¼‰
GET /dev/goods/info/openList { userId }ï¼šå…¬å¼€å•†å“ï¼ˆä½œå“/Workflow å¡ç‰‡ï¼‰ï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
POST /dev/goods/info/remove { id }ï¼›totalView/totalSold/totalEarnedTokens/totalRevenue { userId }ï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
POST /dev/goods/order/myOrders { page, pageSize }ï¼›mySoldOrders { page, pageSize }ï¼›å¯å¤ç”¨ï¼šæ˜¯ã€‚
ï¼ˆæœªåˆ—å‡ºä»…é™åå°è¿è¥çš„ coupon/notify/log/menu ç­‰æ¥å£ï¼ŒMuuZi è‹¥æ— éœ€è¿è¥åå°å¯å¿½ç•¥ã€‚ï¼‰
2ï¸âƒ£ æ ¸å¿ƒæ•°æ®æ¨¡å‹ & å­—æ®µç›˜ç‚¹ï¼ˆåŸºäºå‰ç«¯ç±»å‹ä¸å®é™…ä½¿ç”¨ï¼‰
Userï¼ˆBaseSysUserEntity æ¨æ–­ + TChatGroupMemberItem è¡¥å……ï¼‰
id:number, name:string(ç”¨æˆ·å), nickName:string(æ˜µç§°), avatar|headImg|string, email, phone, remark, tags:string[], roleIds:number[], inviteCode, invitationShortUrl, serviceCode(ä¸ªäººé¡µåµŒå…¥è„šæœ¬), tokens:number, isVip:number, status:number, language, online, teamId, ownerId, shareLink{link,twitter,...}ã€‚
å‰ç«¯å¯è§ï¼šå¤´åƒ/æ˜µç§°/ä¸ªäººç­¾å/ç¤¾äº¤é“¾æ¥/ä½œå“æŒ‡æ ‡ï¼›æ•æ„Ÿï¼šemail/phone/inviteCode/tokens/roleIdsã€‚
é€‚åˆ MuuZiï¼šå¤´åƒ/æ˜µç§°/ç­¾å/ç¤¾äº¤/ä½œå“æŒ‡æ ‡/ä¸ªäººé¡µè„šæœ¬ï¼›è°¨æ…ï¼šè§’è‰²/æƒé™ã€è´¢åŠ¡å­—æ®µã€‚
Avatar / Agentï¼ˆæˆå‘˜æ¨¡æ¿ & ç¾¤æˆå‘˜ï¼‰
æ¨¡æ¿ï¼ˆTMembersParentConfigï¼‰ï¼šid,name,avatar,type,parentType,tokens,efficiencyCoefficient,isAsync,config[] {key,type,required,description}, auth[]ã€‚ç”¨äºç”Ÿæˆå¯ç”¨çš„ Agent/æˆå‘˜é…ç½®ã€‚
å®ä¾‹ï¼ˆgroupMember.memberList è¿”å›ï¼‰ï¼šuserId/groupId/config/configPacks/parentType/select options ç­‰ï¼›ç”¨äºæ¸²æŸ“ç¾¤/å·¥ä½œæµå¡ç‰‡å¤´åƒã€‚
é€‚åˆ MuuZiï¼šæ¨¡æ¿+å®ä¾‹çš„ avatar/name/configï¼›è°¨æ…ï¼šå†…éƒ¨ parentType ç‰¹æ®Šå€¼ï¼ˆå¦‚ 7001 liblib packï¼‰ã€‚
Group / Workspaceï¼ˆTGroupItemï¼‰
id,name,remark,avatar,userId,type,onwerIds,allocationRatio,key,onBoard,createTime,updateTime,members:number[],positionã€‚
å‰ç«¯å¯è§ï¼šåç§°/å¤´åƒ/ç®€ä»‹/onBoard/æˆå‘˜æ•°ï¼›é€‚åˆ MuuZiï¼šæ˜¯ã€‚
Workflowï¼ˆä»¥æˆå‘˜=Workflow + TAddTaskParamsï¼‰
groupId, memberId, execute { type (once/daily/...), config, params }ï¼›æ¶ˆæ¯æµ TWorkflowMsg{code,data,msg}ã€TWorkflowMsgItem{name,type,content,required}ã€‚
å‰ç«¯å¯è§ï¼šworkflow avatar/nameï¼ˆé€šè¿‡ memberDetailï¼‰å’Œè¿è¡Œå‚æ•°ã€‚
é€‚åˆ MuuZiï¼šè¿è¡Œ/å±•ç¤ºå‹å­—æ®µï¼›è°¨æ…ï¼šè°ƒåº¦é…ç½®ã€é”™è¯¯ç ã€‚
Personal Page / Homepage
ç”¨æˆ·å…¬å¼€ä¿¡æ¯ï¼šnickName, remark, avatar, serviceCode, invitationShortUrlï¼›
ä½œå“ï¼ˆTAddGoodsParams/GoodsInfoEntity æ¨æ–­ï¼‰ï¼šid,title,subTitle,mainPic,content,price,isDisplay,sortNum,video,typeId,tags[],pics[],type,groupId,workflowId,author,contributors,attachments,isPinnedï¼›
æŒ‡æ ‡ï¼ˆTTotalMetricsï¼‰ï¼štotalViews,totalPurchases,totalEarned,totalTokensï¼›
è®¢å•ï¼ˆOrderInfoEntityï¼‰ï¼špayAmount,payStatus,goods{groupId,workflowId}ã€‚
é€‚åˆ MuuZiï¼šä½œå“åˆ—è¡¨ + æŒ‡æ ‡ + è®¢å•æ‘˜è¦ã€‚
Desktopï¼ˆå·¥ä½œå°ï¼‰ï¼šid,name,avatar,member:number[],sortã€‚
3ï¸âƒ£ å‰åç«¯å¯¹æ¥æ¨¡å¼
è®¤è¯ï¼šå‰ç«¯å°† Authorization: <token> å†™å…¥è¯·æ±‚å¤´ï¼Œè¯­è¨€å¤´ language æ§åˆ¶å¤šè¯­è¨€ï¼›token è¿‡æœŸè‡ªåŠ¨ç”¨ refreshToken æ¢æ–°ï¼Œå¤±è´¥åˆ™ç™»å‡ºã€‚
ç™»å½•æ€ï¼štoken/refreshToken/ç”¨æˆ·ä¿¡æ¯å­˜æœ¬åœ°å­˜å‚¨ï¼ˆå¸¦è¿‡æœŸï¼‰ï¼›ç™»å½•æˆåŠŸç¼“å­˜å¤šè´¦å·åˆ‡æ¢åˆ—è¡¨ã€‚
è¯·æ±‚å°è£…ï¼šç»Ÿä¸€ axios å®ä¾‹ï¼Œconfig.baseUrl + namespace æ‹¼æ¥ URLï¼›å“åº”æœŸæœ› {code, data, message}ï¼Œcode === 1000 æ‰è¿”å› dataã€‚
è¿›åº¦/é”™è¯¯ï¼šNProgress + ElementPlus æ¶ˆæ¯ï¼›401 è‡ªåŠ¨ç™»å‡ºã€‚
å¤šç«¯ï¼šè·¯ç”±æ¨¡å¼ history/hash æŒ‰æ„å»ºæ¨¡å¼åˆ‡æ¢ï¼›æœªè§ä¸“é—¨ç§»åŠ¨ç«¯åˆ†æ”¯ï¼ˆä»…ä¸ªäººä¸»é¡µæœ‰ç§»åŠ¨ç‰ˆç»„ä»¶ï¼‰ã€‚
ä»£ç†ï¼šå¼€å‘æŒ‡å‘ http://47.117.179.35:8001ï¼Œå‰ç¼€ /dev//apiï¼›WS èµ° /socketã€‚
4ï¸âƒ£ MuuZi å¤ç”¨å»ºè®®
âœ… å¯ç›´æ¥å¤ç”¨ï¼šç™»å½•/åˆ·æ–°ã€è·å–ä¸ªäººä¿¡æ¯ã€ä¸Šä¼ ã€ç«™ç‚¹ä¿¡æ¯ã€ç¾¤/æˆå‘˜/æ¡Œé¢ã€å¥½å‹åˆ—è¡¨ã€æ¶ˆæ¯åˆ—è¡¨ã€ä¸ªäººä¸»é¡µå…¬å¼€æ•°æ®ï¼ˆä½œå“ã€æŒ‡æ ‡ã€è®¢å•ï¼‰ã€çŸ­é“¾/åˆ†äº«ã€è®¤è¯æ¨¡æ¿ä¸æˆå‘˜é…ç½®ã€å•†å“ç»Ÿè®¡ã€‚
âš ï¸ éœ€æŠ½è±¡/è§£è€¦ï¼š
æƒé™/èœå•ï¼ˆpermmenuã€roleIdsï¼‰ä¸ GuDuu åå°å¼ºç»‘å®šã€‚
ç‰¹æ®Šä¸šåŠ¡å€¼ï¼ˆå¦‚ groupMember parentType=7001 çš„é…ç½®åŒ…å¤„ç†ï¼‰ã€‚
ç«™ç‚¹æ”¯ä»˜/Stripe/æ”¯ä»˜å®é…ç½®å¦‚ MuuZi ä¸ç”¨éœ€å±è”½ã€‚
serviceCode åµŒå…¥è„šæœ¬çš„å®‰å…¨æ²™ç®±ã€‚
âŒ ä¸å»ºè®®å¤ç”¨ï¼šåå°è¿è¥ä¸“ç”¨ï¼ˆcoupon/notify/log/menuç®¡ç†ï¼‰ã€æ·±åº¦æƒé™æ“ä½œï¼ˆsys.menu/department/role ç­‰ï¼‰ã€‚
ğŸ’¡ MuuZi æœ€å°å¯ç”¨åå°é›†ï¼ˆè½»é‡ä¸ªäººä¸»é¡µ + IM + Agent å±•ç¤ºï¼‰ï¼š
é‰´æƒï¼šlogin/refresh/person/logoutã€‚
ç”¨æˆ·å…¬å¼€ï¼šopenDetailã€shortLinkã€invitedListã€‚
ç¾¤ & æˆå‘˜ï¼šgroup.list/updateGroupInfoã€groupMember.{memberList,memberDetail,teamsByUserId,allMemberList,setTeamMemberRole}ã€‚
IMï¼šfriend.listã€message.messageListã€‚
ä½œå“/å·¥ä½œæµï¼šgoods.info.openListã€totalView/totalSold/totalEarnedTokensã€goods.order.myOrders/mySoldOrdersã€message.runWorkflowï¼ˆè‹¥éœ€è¦è§¦å‘ï¼‰ã€‚
ä¸Šä¼ ï¼šuploadMode/uploadã€‚
ç«™ç‚¹ï¼šsite.infoï¼ˆç”¨äºæ–‡æ¡ˆ/logo/å¤šè¯­è¨€ï¼‰ã€‚
5ï¸âƒ£ é£é™©ä¸æ³¨æ„äº‹é¡¹
EPS å…ƒæ•°æ®ç¼ºå¤±ï¼šæœªæ‰¾åˆ° build/cool/eps.jsonï¼Œæ¥å£ method/å‚æ•°/è¿”å›ä»¥è¿è¡Œæ—¶æ‹‰å– /admin/base/open/eps ä¸ºå‡†ï¼›ä¸Šçº¿å‰éœ€é€šè¿‡çœŸå®åç«¯ç”Ÿæˆå¹¶æ ¸å¯¹ã€‚
è¿”å›ç å‡è®¾ï¼šå‰ç«¯å›ºå®š code === 1000 æˆåŠŸï¼Œå…¶å®ƒç›´æ¥å¼¹é”™å¹¶ rejectï¼›åç«¯éœ€ä¿æŒä¸€è‡´ã€‚
æƒé™å‡è®¾ï¼šå¤šå¤„ç”¨ roleIdsï¼ˆ6/7/8 åˆ¤å®š team æƒé™ï¼‰ï¼ŒMuuZi è‹¥è§’è‰²ä½“ç³»ä¸åŒéœ€è°ƒæ•´ã€‚
Token ç­–ç•¥ï¼šä¾èµ–æœ¬åœ°è¿‡æœŸæ—¶é—´åˆ¤æ–­ï¼Œåç«¯è¿”å›éœ€åŒ…å« expire/refreshExpireï¼›å¦åˆ™åˆ·æ–°æœºåˆ¶å¤±æ•ˆã€‚
è¯­è¨€å¤´ï¼šè¯·æ±‚é»˜è®¤ language = config.i18n.localeï¼Œåç«¯éœ€æ”¯æŒï¼›å¦åˆ™èœå•/å­—å…¸å¤šè¯­è¨€å¯èƒ½å¼‚å¸¸ã€‚
ä¸šåŠ¡è€¦åˆï¼šç¾¤æˆå‘˜é…ç½®å¯¹ç‰¹å®š parentType åšäº†ç¡¬ç¼–ç ï¼ˆliblib packï¼‰ï¼›å¤ç”¨æ—¶éœ€ç¡®è®¤æ˜¯å¦å­˜åœ¨å¯¹åº”é…ç½®ã€‚
å®‰å…¨ï¼šserviceCode ä¼šåŸæ ·æ’å…¥ DOM å¹¶æ‰§è¡Œè„šæœ¬ï¼Œéœ€ç¡®ä¿æ¥æºå¯ä¿¡æˆ–åšæ²™ç®±ã€‚
ä»£ç†å‰ç¼€ï¼šç”Ÿäº§/å¼€å‘å‰ç¼€ä¸åŒï¼ˆ/api vs /devï¼‰ï¼Œè‡ªå®šä¹‰ç½‘å…³éœ€åŒæ­¥ rewrite è§„åˆ™ï¼Œå¦åˆ™ä¼š 404ã€‚
è‹¥éœ€è¦å®Œæ•´æ¥å£æ¸…å•ï¼Œå»ºè®®è¿è¡Œåç«¯ç”Ÿæˆ EPSï¼ˆ/admin/base/open/epsï¼‰ä»¥å¯¼å‡º eps.json/eps.d.ts åå†å¯¹ç…§ç¡®è®¤ã€‚